# Define the number of worker processes; 'auto' sets it based on available CPU cores
worker_processes auto;

# Store the Nginx master process PID in /tmp to avoid permission issues in restricted environments
pid /tmp/nginx.pid;

events {
  # Maximum number of simultaneous connections per worker
  worker_connections 1024;
}

http {
  # Include MIME type mappings (e.g., .html â†’ text/html)
  include /etc/nginx/mime.types;

  # Default MIME type when a file extension is unknown
  default_type application/octet-stream;

  # Optimize static file delivery
  sendfile on;

  # Timeout for keeping connections alive (in seconds)
  keepalive_timeout 65;

  server {
    # Listen on HTTP port 80
    listen 80;

    # Default server name; typically overridden by a reverse proxy in production
    server_name localhost;

    # Serve static files from this directory (where Angular build is located)
    root /usr/share/nginx/html;

    # Default file to serve when accessing the root path
    index index.html;

    location / {
      # Angular is a single-page application (SPA):
      # If the requested file doesn't exist, fallback to index.html
      try_files $uri $uri/ /index.html;
    }
  }
}
